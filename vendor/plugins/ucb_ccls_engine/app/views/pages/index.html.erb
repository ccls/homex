<% javascripts('pages') %>
<% stylesheets('pages') %>

<% form_tag(order_pages_path, :method => :post, :id => 'order_pages') do -%>
<%= hidden_field_tag :parent_id, params[:parent_id] %>
<table id='pages'><tbody>
<%= render :partial => 'page', :collection => @pages %>
</tbody></table><!-- id='pages' -->

<p>
<%= button_link_to "Create new page", 
	new_page_path(:parent_id => params[:parent_id]) -%>
<%= submit_tag 'Save page order', :name => nil, :id => 'save_order' %>
</p>

<% end %>
<p>
The page model is used as a Content Management System 
and for menu control.  Some routes are not available 
because the application is using them, but in order to 
have the menu function, a "fake page" is created as a 
placeholder.  The staff functionality is an example.
</p>
