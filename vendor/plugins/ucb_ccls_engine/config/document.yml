#DEFAULTS: &DEFAULTS
#  :styles:
#    :full: '900'
#    :large: '800'
#    :medium: '600'
#    :small: '150x50'

#>> Rails.root.to_s.split('/')
#=> ["", "var", "lib", "tomcat5", "webapps", "clic", "WEB-INF"]

#>> Rails.root.to_s.split('/')
#=> ["", "Users", "jakewendt", "github_repo", "jakewendt", "ucb_ccls_clic"]

development:
  :path: <%= "#{Rails.root}/development/:attachment/:id/:filename" %>
#  :path: <%= "#{Rails.root}/#{Rails.env}/:attachment/:id/:filename" %>
#  <<: *DEFAULTS

test:
  :path: <%= "#{Rails.root}/test/:attachment/:id/:filename" %>
#  :path: <%= "#{Rails.root}/#{Rails.env}/:attachment/:id/:filename" %>
#  <<: *DEFAULTS

<% 
app_name = ( defined?(RAILS_APP_NAME) ) ? 
	RAILS_APP_NAME :
	Rails.root.to_s.split('/').reject{|x|x ==  "WEB-INF"}.last 
%>

production:
#  #	Set the storage class to RRS which is cheaper than 
#  #	the default of STANDARD
#  :s3_headers:
#    x-amz-storage-class: REDUCED_REDUNDANCY
#  # public_read or private
#  :s3_permissions: :public_read
#  :storage: :s3
#  :s3_protocol: https
#  :s3_credentials: <%="#{Rails.root}/config/s3.yml" %>
#  :bucket: <%#=RAILS_APP_NAME %>
#  :path: 'home_page_pics/:attachment/:id/:style/:filename'
#  # S3 must have a defined path or will generate
#  # "Stack level too deep" errors
  :path: <%= "/home/tomcat/#{app_name}/:attachment/:id/:filename" %>
#  <<: *DEFAULTS
