<% content_for :head do %>
<%= stylesheet_link_tag('pages') %>
<%# dynamic js in .... app/views/javascripts/pages.js %>
<%= javascript_include_tag('pages') %>
<% end %>

<% form_tag(order_pages_path, :method => :post, :id => 'order_pages') do -%>
<%= hidden_field_tag :parent_id, params[:parent_id] %>
<div id='pages'>
<%= render :partial => 'page', :collection => @pages %>
</div><!-- id='pages' -->

<p>
<%= button_link_to "Create new page", 
	new_page_path(:parent_id => params[:parent_id]) -%>
<%= submit_tag 'Save page order', :name => nil, :id => 'save_order' %>
</p>

<% end %>
<p>
The page model is used as a Content Management System 
and for menu control.  Some routes are not available 
because the application is using them, but in order to 
have the menu function, a "fake page" is created as a 
placeholder.  The staff functionality is an example.
</p>
<p>
Pages and their translations sync the attributes position 
and hide_menu.  Because of this, the creation of a new
translation may affect the originals position.
</p>
