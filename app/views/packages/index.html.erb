<table id='packages'><tbody><tr>
<th>Tracking Number</th>
<th>Status</th>
<th>Last Update</th>
</tr>
<% @packages.each do |package| %>
<tr>
	<td><%= link_to package.tracking_number, "http://www.fedex.com/Tracking?tracknumbers=#{package.tracking_number}" -%></td>
	<td><%= package.status -%></td>
<%#
	It is assumed that updated_at will always be in the past.
	ActionView::Base.new.time_ago_in_words(Chronic.parse('tomorrow'))
	will return "about 22 hours" which is is obviously NOT
	Chronic.parse('tomorrow') returns that next day at noon.
	The method should be "time_difference_in_words" as it simply
	compares the first argument and the current time.
-%>
	<td><%= "#{time_ago_in_words(package.updated_at)} ago" -%></td>
</tr>
<% end %>
</tbody></table>

<p><%= button_link_to "Create new package", new_package_path -%></p>

<%= "<p id='status_updated'>Last shipping status update: #{time_ago_in_words(@last_shipping_update)} ago</p>" unless(@last_shipping_update.blank?) %>
